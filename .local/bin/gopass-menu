#!/usr/bin/env bash

rofi-menu() {
    local selected
    selected="$(gopass ls --flat | rofi -dmenu -no-custom -kb-accept-alt "" -kb-custom-1 "Shift+Return")"
    local ret="$?"
    case "$ret" in
        0)
            gopass -c "$selected"
            ;;
        10)
            gopass -c "$selected" username
            ;;
        *)
            exit "$ret"
            ;;
    esac
}

hyprlauncher-menu() {
    local selected
    selected="$(gopass ls --flat | hyprlauncher --dmenu)"

    if [[ "$selected" == 'Exited without selection' ]]; then
        exit 1
    fi

    gopass -c "$selected"
}

rofi-menu "$@"

# hyprlauncher-menu "$@"
